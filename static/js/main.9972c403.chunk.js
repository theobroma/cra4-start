(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{111:function(e,t,n){},142:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),i=(n(111),n(13)),o=n(83),s=n(184),l=n(178),d=n(192),j=n(100),u=function(e){return e.currentWeather},b=n(27),h=n.n(b),O=n(42),x=n(18),p=n(84),f=n.n(p).a.create({baseURL:"https://api.weatherapi.com/v1",params:{key:"73f01c341d77475b88a143305212404"}}),m=function(e,t){return f.get("/current.json?q=".concat(e,",").concat(t))},y=Object(x.b)("currentWeather/getUserCoordinatesTC",(function(e,t){navigator.geolocation.getCurrentPosition((function(e){t.dispatch(w({lat:e.coords.latitude,lon:e.coords.longitude}))}))})),g=Object(x.b)("currentWeather/getCurrentWeather",function(){var e=Object(O.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t.lat,t.lon);case 3:return a=e.sent,n.dispatch(F(a.data.location)),e.abrupt("return",{currentWeather:a.data.current});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),v=Object(x.c)({name:"currentWeather",initialState:{lat:0,lon:0,location:{},currentWeather:{}},reducers:{userCoordinatesAC:function(e,t){e.lat=t.payload.lat,e.lon=t.payload.lon},setLocationAC:function(e,t){e.location=t.payload}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){t.payload&&(e.currentWeather=t.payload.currentWeather)}))}}),k=v.reducer,S=v.actions,w=S.userCoordinatesAC,F=S.setLocationAC,C=n(12),W=n(28),T=n(29),N=n(176),L=n(196),z=n(150),A=n(21),_=n(2),B=Object(N.a)((function(e){return Object(C.a)({},Object(L.a)({condition:{position:"absolute",width:"150px",opacity:.15},conditionText:{fontSize:30,fontWeight:300},temperatureWrap:{position:"relative"},temperature:Object(A.a)({lineHeight:1,fontSize:140,fontWeight:700},e.breakpoints.down("xs"),{fontSize:75})}))})),D=function(e){var t=e.temp,n=e.condition,a=B();return Object(_.jsxs)(d.a,{className:a.temperatureWrap,children:[Object(_.jsx)("img",{src:null===n||void 0===n?void 0:n.icon,className:a.condition,width:"150",alt:"condition"}),Object(_.jsxs)(d.a,{pt:5,children:[Object(_.jsxs)(z.a,{className:a.temperature,component:"p",variant:"subtitle1",color:"textSecondary",align:"center",children:[t,"\xb0C"]}),Object(_.jsx)(z.a,{className:a.conditionText,component:"p",variant:"subtitle1",color:"textSecondary",align:"center",children:null===n||void 0===n?void 0:n.text})]})]})},I=Object(N.a)((function(){return Object(C.a)({},Object(L.a)({title:{paddingLeft:10,paddingRight:7}}))})),E=function(e){var t=e.currentWeather,n=t.temp_c,a=t.condition,c=t.last_updated,r=t.humidity,i=t.wind_kph,o=t.wind_dir,s=t.gust_kph,j=I(),u=new Date(c),b=u.toLocaleString("en-US",{weekday:"long"}),h=u.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"});return Object(_.jsxs)("div",{children:[Object(_.jsxs)(l.a,{container:!0,spacing:1,children:[Object(_.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(_.jsx)(D,{temp:n,condition:a})}),Object(_.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(_.jsxs)("div",{children:[Object(_.jsxs)(d.a,{my:2,children:[Object(_.jsx)(z.a,{color:"textSecondary",display:"inline",children:Object(_.jsx)(W.a,{icon:T.b})}),Object(_.jsx)(z.a,{className:j.title,color:"textSecondary",display:"inline",children:"Today:"}),Object(_.jsxs)(z.a,{variant:"subtitle1",align:"center",display:"inline",children:[b," ",h]})]}),Object(_.jsxs)(d.a,{my:2,children:[Object(_.jsx)(z.a,{color:"textSecondary",display:"inline",children:Object(_.jsx)(W.a,{icon:T.e})}),Object(_.jsx)(z.a,{className:j.title,color:"textSecondary",display:"inline",children:"Feels Like:"}),Object(_.jsxs)(z.a,{variant:"subtitle1",align:"center",display:"inline",children:[n,"\xb0C"]})]}),Object(_.jsxs)(d.a,{my:2,children:[Object(_.jsx)(z.a,{color:"textSecondary",display:"inline",children:Object(_.jsx)(W.a,{icon:T.f})}),Object(_.jsx)(z.a,{className:j.title,color:"textSecondary",display:"inline",children:"Humidity:"}),Object(_.jsxs)(z.a,{variant:"subtitle1",align:"center",display:"inline",children:[r," %"]})]}),Object(_.jsxs)(d.a,{my:2,children:[Object(_.jsx)(z.a,{color:"textSecondary",display:"inline",children:Object(_.jsx)(W.a,{icon:T.g})}),Object(_.jsx)(z.a,{className:j.title,color:"textSecondary",display:"inline",children:"Wind:"}),Object(_.jsxs)(z.a,{variant:"subtitle1",align:"center",display:"inline",children:[i," km/h (",o,")"]})]}),Object(_.jsxs)(d.a,{my:2,children:[Object(_.jsx)(z.a,{color:"textSecondary",display:"inline",children:Object(_.jsx)(W.a,{icon:T.a})}),Object(_.jsx)(z.a,{className:j.title,color:"textSecondary",display:"inline",children:"Gust:"}),Object(_.jsx)(z.a,{variant:"subtitle1",align:"center",display:"inline",children:s})]})]})})]}),Object(_.jsx)("div",{})]})},G=Object(N.a)((function(){return Object(C.a)({},Object(L.a)({title:{fontSize:30,fontWeight:300}}))})),P=function(e){var t=e.location,n=G();return Object(_.jsx)("div",{children:Object(_.jsxs)(z.a,{className:n.title,component:"h2",variant:"h6",children:[t.name,", ",t.region,", ",t.country]})})},R=function(){var e=Object(i.b)(),t=Object(i.c)(u),n=t.lon,c=t.lat,r=t.location,o=t.currentWeather;return Object(a.useEffect)((function(){0!==c&&0!==n&&e(g({lat:c,lon:n}))}),[c,n,e]),Object(_.jsxs)(d.a,{p:3,children:[Object(_.jsx)(P,{location:r}),Object(_.jsx)(E,{currentWeather:o})]})},U=n(97),H=function(e){return e.forecast.forecastday},M=function(e,t,n){return f.get("/forecast.json?q=".concat(t,",").concat(n,"&days=").concat(e))},q=Object(x.b)("forecast/getForecast",function(){var e=Object(O.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t.days,t.lat,t.lon);case 3:return a=e.sent,e.abrupt("return",{forecastday:a.data.forecast.forecastday});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(x.c)({name:"forecast",initialState:{forecastday:[]},reducers:{},extraReducers:function(e){e.addCase(q.fulfilled,(function(e,t){t.payload&&(e.forecastday=t.payload.forecastday)}))}}).reducer,J=n(179),Y=n(180),K=Object(N.a)((function(e){return Object(C.a)({},Object(L.a)({root:Object(A.a)({minWidth:275},e.breakpoints.down("sm"),{marginBottom:16}),title:{fontSize:14},pos:{marginBottom:6},temperature:{fontWeight:300,fontSize:"24px"}}))})),Q=function(e){var t=e.weekDay,n=e.date,a=e.sunrise,c=e.sunset,r=e.icon,i=e.condition_text,o=e.min_temp,s=e.max_temp,l=K();return Object(_.jsx)(J.a,{className:l.root,children:Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(z.a,{className:l.title,color:"textSecondary",gutterBottom:!0,align:"center",children:t}),Object(_.jsx)(z.a,{className:l.pos,color:"textSecondary",align:"center",children:n}),Object(_.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:Object(_.jsx)("img",{src:r,alt:"icon"})}),Object(_.jsx)(z.a,{className:l.pos,color:"textSecondary",align:"center",style:{marginBottom:24},children:i}),Object(_.jsxs)(z.a,{className:l.temperature,color:"textSecondary",align:"center",style:{marginBottom:24},children:[o," - ",s,"\xb0C"]}),Object(_.jsxs)(z.a,{className:l.pos,color:"textSecondary",align:"center",children:[Object(_.jsx)(W.a,{icon:T.d})," ",a]}),Object(_.jsxs)(z.a,{className:l.pos,color:"textSecondary",align:"center",children:[Object(_.jsx)(W.a,{icon:T.c})," ",c]})]})})},X=function(){var e=Object(i.b)(),t=Object(i.c)(u),n=t.lon,c=t.lat,r=Object(i.c)(H);Object(a.useEffect)((function(){0!==c&&0!==n&&e(q({days:3,lat:c,lon:n}))}),[c,n,3,e]);var o={weekday:"long"},s={year:"numeric",month:"long",day:"numeric"};return Object(_.jsxs)(d.a,{p:3,children:[Object(_.jsx)(d.a,{mb:1,children:Object(_.jsx)(z.a,{variant:"h6",noWrap:!0,children:"Forecast"})}),Object(_.jsx)(d.a,{children:Object(_.jsx)(l.a,{container:!0,spacing:1,children:r.map((function(e){var t=new Date(e.date);return Object(_.jsx)(l.a,{item:!0,xs:12,md:4,children:Object(_.jsx)(Q,{weekDay:t.toLocaleString("en-US",o),date:t.toLocaleString("en-US",s),sunrise:e.astro.sunrise,sunset:e.astro.sunset,icon:e.day.condition.icon,condition_text:e.day.condition.text,min_temp:e.day.mintemp_c,max_temp:e.day.maxtemp_c})},Object(U.a)(8))}))})})]})},Z=n(39),$=n(182),ee=n(195),te=n(194),ne=n(183),ae=n(89),ce=n.n(ae);var re=function(e){return e.search.data},ie=function(e){return f.get("/search.json?q=".concat(e))},oe=Object(x.b)("search/searchTC",function(){var e=Object(O.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t);case 3:return a=e.sent,e.abrupt("return",{data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),se=Object(x.c)({name:"search",initialState:{data:[]},reducers:{clearData:function(e){e.data=[]}},extraReducers:function(e){e.addCase(oe.fulfilled,(function(e,t){t.payload&&(e.data=t.payload.data)}))}}),le=se.reducer,de=se.actions.clearData,je=n(181),ue=n(151),be=Object(N.a)((function(e){return Object(C.a)({},Object(L.a)({root:{maxHeight:400,width:"100%",overflowY:"auto",background:"white",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.22)",zIndex:2},item:Object(A.a)({height:60,padding:e.spacing(1),paddingLeft:20},e.breakpoints.down("sm"),{height:90}),title:{fontWeight:500,color:"#000"}}))})),he=function(e){var t=e.searchData,n=void 0===t?[]:t,a=e.onClick,c=be();return Object(_.jsx)(je.a,{className:c.root,"aria-labelledby":"nested-list-subheader",children:n.map((function(e){return Object(_.jsx)(ue.a,{button:!0,className:c.item,onClick:function(){return a(e.lat,e.lon)},children:Object(_.jsx)(z.a,{variant:"body1",children:Object(_.jsx)("span",{className:c.title,children:e.name})})},e.id)}))})},Oe=function(){var e=Object(i.b)(),t=Object(i.c)(re),n=Object(a.useState)(""),c=Object(Z.a)(n,2),r=c[0],o=c[1],s=function(e,t){var n=Object(a.useState)(e),c=Object(Z.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(r,300),l=Object(a.useCallback)((function(t,n){e(g({lat:t,lon:n})),e(q({days:3,lat:t,lon:n})),e(de()),o("")}),[e]);Object(a.useEffect)((function(){s.length>2&&e(oe(s))}),[s,e]);return Object(_.jsxs)(d.a,{p:3,children:[Object(_.jsxs)($.a,{fullWidth:!0,variant:"outlined",children:[Object(_.jsx)(ee.a,{htmlFor:"search-input",children:"Search"}),Object(_.jsx)(te.a,{id:"search-input",value:r,onChange:function(e){o(e.currentTarget.value.trim())},startAdornment:Object(_.jsx)(ne.a,{position:"start",children:Object(_.jsx)(ce.a,{})}),labelWidth:60})]}),t.length>0&&Object(_.jsx)(he,{searchData:t,onClick:l})]})},xe=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(y())}),[e]),Object(_.jsx)(s.a,{maxWidth:"lg",children:Object(_.jsxs)(l.a,{container:!0,spacing:3,style:{padding:3},children:[Object(_.jsx)(l.a,{item:!0,xs:12,children:Object(_.jsx)(d.a,{mb:1,children:Object(_.jsx)(j.a,{elevation:3,children:Object(_.jsx)(Oe,{})})})}),Object(_.jsx)(l.a,{item:!0,xs:12,children:Object(_.jsx)(d.a,{mb:1,children:Object(_.jsx)(j.a,{elevation:3,children:Object(_.jsx)(R,{})})})}),Object(_.jsx)(l.a,{item:!0,xs:12,children:Object(_.jsx)(d.a,{mb:1,children:Object(_.jsx)(j.a,{elevation:3,children:Object(_.jsx)(X,{})})})})]})})},pe=n(187),fe=n(188),me=Object(N.a)((function(e){return Object(C.a)({},Object(L.a)({grow:{flexGrow:1},title:Object(A.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"})}))})),ye=n(90),ge=n.n(ye),ve=n(91),ke=n.n(ve),Se=n(92),we=n.n(Se),Fe=n(186),Ce=n(6),We=n(193),Te=n(185),Ne=Object(Ce.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(_.jsx)(We.a,Object(C.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:{width:240}}},e))})),Le=Object(Ce.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(Te.a),ze=Object(x.c)({name:"ui",initialState:{theme:"light"},reducers:{setThemeAC:function(e,t){e.theme=t.payload}}}),Ae=ze.reducer,_e=ze.actions.setThemeAC,Be=function(e){return e.ui.theme},De=["light","dark","deepPurpleAmber","pinkBlueGrey"];function Ie(){var e=Object(i.b)(),t=Object(i.c)(Be),n=Object(a.useState)(null),c=Object(Z.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(De.indexOf(t)),l=Object(Z.a)(s,2),d=l[0],j=l[1];return Object(_.jsxs)("div",{children:[Object(_.jsx)(Fe.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},children:Object(_.jsx)(ge.a,{})}),Object(_.jsx)(Ne,{id:"lock-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){o(null)},children:De.map((function(t,n){return Object(_.jsxs)(Le,{selected:n===d,onClick:function(t){return function(t,n){j(n),e(_e(De[n])),o(null)}(0,n)},children:[n===d?Object(_.jsx)(ke.a,{fontSize:"small",style:{marginRight:"8px"}}):Object(_.jsx)(we.a,{fontSize:"small",style:{marginRight:"8px"}}),t]},t)}))})]})}var Ee=function(){var e=me();return Object(_.jsx)("div",{className:e.grow,children:Object(_.jsx)(pe.a,{position:"static",children:Object(_.jsx)(s.a,{maxWidth:"lg",children:Object(_.jsxs)(fe.a,{style:{padding:0},children:[Object(_.jsx)(z.a,{className:e.title,variant:"h6",noWrap:!0,children:"Weather App"}),Object(_.jsx)("div",{className:e.grow}),Object(_.jsx)(Ie,{})]})})})})},Ge=n(93),Pe=n.n(Ge),Re=Object(N.a)((function(){return Object(C.a)({},Object(L.a)({grow:{flexGrow:1},copyright:{textAlign:"center",marginBottom:0,fontSize:16}}))})),Ue=function(){var e=Re();return Object(_.jsx)(pe.a,{position:"static",children:Object(_.jsx)(s.a,{maxWidth:"lg",children:Object(_.jsxs)(fe.a,{style:{padding:0,display:"flex",justifyContent:"space-between"},children:[Object(_.jsx)(d.a,{children:Object(_.jsx)(z.a,{className:e.copyright,variant:"h6",noWrap:!0,children:"\xa9 created by Aleksandr Siryi"})}),Object(_.jsx)(d.a,{children:Object(_.jsx)(Fe.a,{color:"inherit",href:"https://github.com/theobroma/weather-app","data-testid":"github-link","aria-label":"Github Link",children:Object(_.jsx)(Pe.a,{})})})]})})})},He=function(e){var t=e.children;return Object(_.jsxs)("div",{className:"HolyGrail",children:[Object(_.jsx)(Ee,{}),Object(_.jsx)("main",{className:"HolyGrail-content",children:Object(_.jsx)(d.a,{mt:2,mb:2,children:t})}),Object(_.jsx)(Ue,{})]})},Me=function(){return Object(_.jsx)(He,{children:Object(_.jsx)(xe,{})})},qe=n(94),Ve=n(30),Je=n(95),Ye=n.n(Je),Ke=n(16),Qe=Object(Ke.b)({currentWeather:k,forecast:V,search:le,ui:Ae}),Xe=Object(qe.createLogger)({collapsed:!0}),Ze={key:"root",storage:Ye.a,whitelist:["ui"]},$e=Object(Ve.g)(Ze,Qe),et=Object(x.a)({reducer:$e,middleware:function(e){return e({serializableCheck:{ignoredActions:[Ve.a,Ve.f,Ve.b,Ve.c,Ve.d,Ve.e]}}).concat(Xe)},devTools:!0}),tt=Object(Ve.h)(et),nt=n(197),at=n(189),ct=Object(N.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),rt=function(){var e=ct();return Object(_.jsx)(nt.a,{className:e.backdrop,open:!0,children:Object(_.jsx)(at.a,{color:"inherit"})})},it=n(191),ot=n(96),st=n(190),lt={info:{main:"#0277bd",contrastText:"#FFFFFF"},success:{main:"#2e7d32",contrastText:"#FFFFFF"},warning:{main:"#f9a825",contrastText:"#FFFFFF"},error:{main:"#c62828",contrastText:"#FFFFFF"}},dt={light:{palette:Object(C.a)({type:"light",background:{paper:"#f5f5f5",default:"#FFFFFF"},primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}},lt)},dark:{palette:Object(C.a)({type:"dark",background:{paper:"#424242",default:"#303030"},primary:{main:"#81c784",contrastText:"#000000"},secondary:{main:"#ffb74d",contrastText:"#000"}},lt)},deepPurpleAmber:{palette:Object(C.a)({type:"light",background:{paper:"#f5f5f5",default:"#FFFFFF"},primary:{main:"#673ab7",contrastText:"#fff"},secondary:{main:"#ffd740",contrastText:"#000"}},lt)},pinkBlueGrey:{palette:Object(C.a)({type:"dark",background:{paper:"#424242",default:"#303030"},primary:{main:"#e91e63;",contrastText:"#000000"},secondary:{main:"#607d8b;",contrastText:"#000"}},lt)}},jt=function(e){var t=e.children,n=Object(i.c)(Be),a=Object(ot.a)(dt[n]);return Object(_.jsxs)(st.a,{theme:a,children:[Object(_.jsx)(it.a,{}),t]})},ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},bt=(n(142),n(143),n(144),n(145),n(146),document.getElementById("root"));Object(r.render)(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(i.a,{store:et,children:Object(_.jsx)(o.a,{loading:Object(_.jsx)(rt,{}),persistor:tt,onBeforeLift:function(){return new Promise((function(e){return setTimeout(e,500)}))},children:Object(_.jsx)(jt,{children:Object(_.jsx)(Me,{})})})})}),bt),ut()}},[[147,1,2]]]);
//# sourceMappingURL=main.9972c403.chunk.js.map