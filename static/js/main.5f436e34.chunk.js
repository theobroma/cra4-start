(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{131:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),i=(n(98),n(16)),o=n(71),s=n(163),l=n(156),d=n(170),j=n(84),u=function(e){return e.currentWeather},b=n(23),h=n.n(b),x=n(33),O=n(18),p=n(72),f=n.n(p).a.create({baseURL:"https://api.weatherapi.com/v1",params:{key:"73f01c341d77475b88a143305212404"}}),m=function(e,t){return f.get("/current.json?q=".concat(e,",").concat(t))},y=Object(O.b)("currentWeather/getUserCoordinatesTC",(function(e,t){navigator.geolocation.getCurrentPosition((function(e){t.dispatch(F({lat:e.coords.latitude,lon:e.coords.longitude}))}))})),g=Object(O.b)("currentWeather/getCurrentWeather",function(){var e=Object(x.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t.lat,t.lon);case 3:return a=e.sent,n.dispatch(W(a.data.location)),e.abrupt("return",{currentWeather:a.data.current});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),v=Object(O.c)({name:"currentWeather",initialState:{lat:0,lon:0,location:{},currentWeather:{}},reducers:{userCoordinatesAC:function(e,t){e.lat=t.payload.lat,e.lon=t.payload.lon},setLocationAC:function(e,t){e.location=t.payload}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){t.payload&&(e.currentWeather=t.payload.currentWeather)}))}}),S=v.reducer,w=v.actions,F=w.userCoordinatesAC,W=w.setLocationAC,k=n(10),C=n(24),N=n(25),T=n(155),L=n(174),_=n(139),z=n(19),A=n(2),B=Object(T.a)((function(e){return Object(k.a)({},Object(L.a)({condition:{position:"absolute",width:"150px",opacity:.15},conditionText:{fontSize:30,fontWeight:300},temperatureWrap:{position:"relative"},temperature:Object(z.a)({lineHeight:1,fontSize:140,fontWeight:700},e.breakpoints.down("xs"),{fontSize:75})}))})),D=function(e){var t=e.temp,n=e.condition,a=B();return Object(A.jsxs)(d.a,{className:a.temperatureWrap,children:[Object(A.jsx)("img",{src:null===n||void 0===n?void 0:n.icon,className:a.condition,width:"150",alt:"condition"}),Object(A.jsxs)(d.a,{pt:5,children:[Object(A.jsxs)(_.a,{className:a.temperature,component:"p",variant:"subtitle1",color:"textSecondary",align:"center",children:[t,"\xb0C"]}),Object(A.jsx)(_.a,{className:a.conditionText,component:"p",variant:"subtitle1",color:"textSecondary",align:"center",children:null===n||void 0===n?void 0:n.text})]})]})},E=Object(T.a)((function(){return Object(k.a)({},Object(L.a)({title:{paddingLeft:10,paddingRight:7}}))})),I=function(e){var t=e.currentWeather,n=t.temp_c,a=t.condition,c=t.last_updated,r=t.humidity,i=t.wind_kph,o=t.wind_dir,s=t.gust_kph,j=E(),u=new Date(c),b=u.toLocaleString("en-US",{weekday:"long"}),h=u.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"});return Object(A.jsxs)("div",{children:[Object(A.jsxs)(l.a,{container:!0,spacing:1,children:[Object(A.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(D,{temp:n,condition:a})}),Object(A.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(A.jsxs)("div",{children:[Object(A.jsxs)(d.a,{my:2,children:[Object(A.jsx)(_.a,{color:"textSecondary",display:"inline",children:Object(A.jsx)(C.a,{icon:N.b})}),Object(A.jsx)(_.a,{className:j.title,color:"textSecondary",display:"inline",children:"Today:"}),Object(A.jsxs)(_.a,{variant:"subtitle1",align:"center",display:"inline",children:[b," ",h]})]}),Object(A.jsxs)(d.a,{my:2,children:[Object(A.jsx)(_.a,{color:"textSecondary",display:"inline",children:Object(A.jsx)(C.a,{icon:N.e})}),Object(A.jsx)(_.a,{className:j.title,color:"textSecondary",display:"inline",children:"Feels Like:"}),Object(A.jsxs)(_.a,{variant:"subtitle1",align:"center",display:"inline",children:[n,"\xb0C"]})]}),Object(A.jsxs)(d.a,{my:2,children:[Object(A.jsx)(_.a,{color:"textSecondary",display:"inline",children:Object(A.jsx)(C.a,{icon:N.f})}),Object(A.jsx)(_.a,{className:j.title,color:"textSecondary",display:"inline",children:"Humidity:"}),Object(A.jsxs)(_.a,{variant:"subtitle1",align:"center",display:"inline",children:[r," %"]})]}),Object(A.jsxs)(d.a,{my:2,children:[Object(A.jsx)(_.a,{color:"textSecondary",display:"inline",children:Object(A.jsx)(C.a,{icon:N.g})}),Object(A.jsx)(_.a,{className:j.title,color:"textSecondary",display:"inline",children:"Wind:"}),Object(A.jsxs)(_.a,{variant:"subtitle1",align:"center",display:"inline",children:[i," km/h (",o,")"]})]}),Object(A.jsxs)(d.a,{my:2,children:[Object(A.jsx)(_.a,{color:"textSecondary",display:"inline",children:Object(A.jsx)(C.a,{icon:N.a})}),Object(A.jsx)(_.a,{className:j.title,color:"textSecondary",display:"inline",children:"Gust:"}),Object(A.jsx)(_.a,{variant:"subtitle1",align:"center",display:"inline",children:s})]})]})})]}),Object(A.jsx)("div",{})]})},U=Object(T.a)((function(){return Object(k.a)({},Object(L.a)({title:{fontSize:30,fontWeight:300}}))})),G=function(e){var t=e.location,n=U();return Object(A.jsx)("div",{children:Object(A.jsxs)(_.a,{className:n.title,component:"h2",variant:"h6",children:[t.name,", ",t.region,", ",t.country]})})},H=function(){var e=Object(i.b)(),t=Object(i.c)(u),n=t.lon,c=t.lat,r=t.location,o=t.currentWeather;return Object(a.useEffect)((function(){0!==c&&0!==n&&e(g({lat:c,lon:n}))}),[c,n,e]),Object(A.jsxs)(d.a,{p:3,children:[Object(A.jsx)(G,{location:r}),Object(A.jsx)(I,{currentWeather:o})]})},R=n(81),P=function(e){return e.forecast.forecastday},q=function(e,t,n){return f.get("/forecast.json?q=".concat(t,",").concat(n,"&days=").concat(e))},V=Object(O.b)("forecast/getForecast",function(){var e=Object(x.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t.days,t.lat,t.lon);case 3:return a=e.sent,e.abrupt("return",{forecastday:a.data.forecast.forecastday});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),J=Object(O.c)({name:"forecast",initialState:{forecastday:[]},reducers:{},extraReducers:function(e){e.addCase(V.fulfilled,(function(e,t){t.payload&&(e.forecastday=t.payload.forecastday)}))}}).reducer,M=n(157),Y=n(158),$=Object(T.a)((function(e){return Object(k.a)({},Object(L.a)({root:Object(z.a)({minWidth:275},e.breakpoints.down("sm"),{marginBottom:16}),title:{fontSize:14},pos:{marginBottom:6},temperature:{fontWeight:300,fontSize:"24px"}}))})),K=function(e){var t=e.weekDay,n=e.date,a=e.sunrise,c=e.sunset,r=e.icon,i=e.condition_text,o=e.min_temp,s=e.max_temp,l=$();return Object(A.jsx)(M.a,{className:l.root,children:Object(A.jsxs)(Y.a,{children:[Object(A.jsx)(_.a,{className:l.title,color:"textSecondary",gutterBottom:!0,align:"center",children:t}),Object(A.jsx)(_.a,{className:l.pos,color:"textSecondary",align:"center",children:n}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:Object(A.jsx)("img",{src:r,alt:"icon"})}),Object(A.jsx)(_.a,{className:l.pos,color:"textSecondary",align:"center",style:{marginBottom:24},children:i}),Object(A.jsxs)(_.a,{className:l.temperature,color:"textSecondary",align:"center",style:{marginBottom:24},children:[o," - ",s,"\xb0C"]}),Object(A.jsxs)(_.a,{className:l.pos,color:"textSecondary",align:"center",children:[Object(A.jsx)(C.a,{icon:N.d})," ",a]}),Object(A.jsxs)(_.a,{className:l.pos,color:"textSecondary",align:"center",children:[Object(A.jsx)(C.a,{icon:N.c})," ",c]})]})})},Q=function(){var e=Object(i.b)(),t=Object(i.c)(u),n=t.lon,c=t.lat,r=Object(i.c)(P);Object(a.useEffect)((function(){0!==c&&0!==n&&e(V({days:3,lat:c,lon:n}))}),[c,n,3,e]);var o={weekday:"long"},s={year:"numeric",month:"long",day:"numeric"};return Object(A.jsxs)(d.a,{p:3,children:[Object(A.jsx)(d.a,{mb:1,children:Object(A.jsx)(_.a,{variant:"h6",noWrap:!0,children:"Forecast"})}),Object(A.jsx)(d.a,{children:Object(A.jsx)(l.a,{container:!0,spacing:1,children:r.map((function(e){var t=new Date(e.date);return Object(A.jsx)(l.a,{item:!0,xs:12,md:4,children:Object(A.jsx)(K,{weekDay:t.toLocaleString("en-US",o),date:t.toLocaleString("en-US",s),sunrise:e.astro.sunrise,sunset:e.astro.sunset,icon:e.day.condition.icon,condition_text:e.day.condition.text,min_temp:e.day.mintemp_c,max_temp:e.day.maxtemp_c})},Object(R.a)(8))}))})})]})},X=n(56),Z=n(161),ee=n(173),te=n(172),ne=n(162);var ae=function(e){return e.search.data},ce=function(e){return f.get("/search.json?q=".concat(e))},re=Object(O.b)("search/searchTC",function(){var e=Object(x.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(t);case 3:return a=e.sent,e.abrupt("return",{data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),ie=Object(O.c)({name:"search",initialState:{data:[]},reducers:{clearData:function(e){e.data=[]}},extraReducers:function(e){e.addCase(re.fulfilled,(function(e,t){t.payload&&(e.data=t.payload.data)}))}}),oe=ie.reducer,se=ie.actions.clearData,le=n(159),de=n(160),je=Object(T.a)((function(e){return Object(k.a)({},Object(L.a)({root:{maxHeight:400,width:"100%",overflowY:"auto",background:"white",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.22)",zIndex:2},item:Object(z.a)({height:60,padding:e.spacing(1),paddingLeft:20},e.breakpoints.down("sm"),{height:90}),title:{fontWeight:500,color:"#000"}}))})),ue=function(e){var t=e.searchData,n=void 0===t?[]:t,a=e.onClick,c=je();return Object(A.jsx)(le.a,{className:c.root,"aria-labelledby":"nested-list-subheader",children:n.map((function(e){return Object(A.jsx)(de.a,{button:!0,className:c.item,onClick:function(){return a(e.lat,e.lon)},children:Object(A.jsx)(_.a,{variant:"body1",children:Object(A.jsx)("span",{className:c.title,children:e.name})})},e.id)}))})},be=function(){var e=Object(i.b)(),t=Object(i.c)(ae),n=Object(a.useState)(""),c=Object(X.a)(n,2),r=c[0],o=c[1],s=function(e,t){var n=Object(a.useState)(e),c=Object(X.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(r,300),l=Object(a.useCallback)((function(t,n){e(g({lat:t,lon:n})),e(V({days:3,lat:t,lon:n})),e(se()),o("")}),[e]);Object(a.useEffect)((function(){s.length>2&&e(re(s))}),[s,e]);return Object(A.jsxs)(d.a,{p:3,children:[Object(A.jsxs)(Z.a,{fullWidth:!0,variant:"outlined",children:[Object(A.jsx)(ee.a,{htmlFor:"search-input",children:"Search"}),Object(A.jsx)(te.a,{id:"search-input",value:r,onChange:function(e){o(e.currentTarget.value.trim())},startAdornment:Object(A.jsx)(ne.a,{position:"start",children:"$"}),labelWidth:60})]}),t.length>0&&Object(A.jsx)(ue,{searchData:t,onClick:l})]})},he=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(y())}),[e]),Object(A.jsx)(s.a,{maxWidth:"lg",children:Object(A.jsxs)(l.a,{container:!0,spacing:3,style:{padding:3},children:[Object(A.jsx)(l.a,{item:!0,xs:12,children:Object(A.jsx)(d.a,{mb:1,children:Object(A.jsx)(j.a,{elevation:3,children:Object(A.jsx)(be,{})})})}),Object(A.jsx)(l.a,{item:!0,xs:12,children:Object(A.jsx)(d.a,{mb:1,children:Object(A.jsx)(j.a,{elevation:3,children:Object(A.jsx)(H,{})})})}),Object(A.jsx)(l.a,{item:!0,xs:12,children:Object(A.jsx)(d.a,{mb:1,children:Object(A.jsx)(j.a,{elevation:3,children:Object(A.jsx)(Q,{})})})})]})})},xe=n(164),Oe=n(165),pe=Object(T.a)((function(e){return Object(k.a)({},Object(L.a)({grow:{flexGrow:1},title:Object(z.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"})}))})),fe=function(){var e=pe();return Object(A.jsx)("div",{className:e.grow,children:Object(A.jsx)(xe.a,{position:"static",children:Object(A.jsx)(s.a,{maxWidth:"lg",children:Object(A.jsxs)(Oe.a,{style:{padding:0},children:[Object(A.jsx)(_.a,{className:e.title,variant:"h6",noWrap:!0,children:"Weather App"}),Object(A.jsx)("div",{className:e.grow})]})})})})},me=n(166),ye=n(77),ge=n.n(ye),ve=Object(T.a)((function(){return Object(k.a)({},Object(L.a)({grow:{flexGrow:1},copyright:{textAlign:"center",marginBottom:0,fontSize:16}}))})),Se=function(){var e=ve();return Object(A.jsx)(xe.a,{position:"static",children:Object(A.jsx)(s.a,{maxWidth:"lg",children:Object(A.jsxs)(Oe.a,{style:{padding:0,display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)(d.a,{children:Object(A.jsx)(_.a,{className:e.copyright,variant:"h6",noWrap:!0,children:"\xa9 created by Aleksandr Siryi"})}),Object(A.jsx)(d.a,{children:Object(A.jsx)(me.a,{color:"inherit",href:"https://github.com/theobroma/weather-app",children:Object(A.jsx)(ge.a,{})})})]})})})},we=function(e){var t=e.children;return Object(A.jsxs)("div",{className:"HolyGrail",children:[Object(A.jsx)(d.a,{mb:2,children:Object(A.jsx)(fe,{})}),Object(A.jsx)("main",{className:"HolyGrail-content",children:t}),Object(A.jsx)(Se,{})]})},Fe=function(){return Object(A.jsx)(we,{children:Object(A.jsx)(he,{})})},We=n(78),ke=n(26),Ce=n(79),Ne=n.n(Ce),Te=n(12),Le=Object(Te.b)({currentWeather:S,forecast:J,search:oe}),_e=Object(We.createLogger)({collapsed:!0}),ze={key:"root",storage:Ne.a,whitelist:["none"]},Ae=Object(ke.g)(ze,Le),Be=Object(O.a)({reducer:Ae,middleware:function(e){return e({serializableCheck:{ignoredActions:[ke.a,ke.f,ke.b,ke.c,ke.d,ke.e]}}).concat(_e)},devTools:!0}),De=Object(ke.h)(Be),Ee=n(171),Ie=n(167),Ue=Object(T.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Ge=function(){var e=Ue();return Object(A.jsx)(Ee.a,{className:e.backdrop,open:!0,children:Object(A.jsx)(Ie.a,{color:"inherit"})})},He=n(169),Re=n(80),Pe=n(168),qe={info:{main:"#0277bd",contrastText:"#FFFFFF"},success:{main:"#2e7d32",contrastText:"#FFFFFF"},warning:{main:"#f9a825",contrastText:"#FFFFFF"},error:{main:"#c62828",contrastText:"#FFFFFF"}},Ve={palette:Object(k.a)({type:"light",background:{paper:"#f5f5f5",default:"#FFFFFF"},primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}},qe)},Je=(Object(k.a)({type:"dark",background:{paper:"#424242",default:"#303030"},primary:{main:"#81c784",contrastText:"#000000"},secondary:{main:"#ffb74d",contrastText:"#000"}},qe),function(e){var t=e.children,n=Object(Re.a)(Ve);return Object(A.jsxs)(Pe.a,{theme:n,children:[Object(A.jsx)(He.a,{}),t]})}),Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Ye=(n(131),n(132),n(133),n(134),n(135),document.getElementById("root"));Object(r.render)(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(i.a,{store:Be,children:Object(A.jsx)(o.a,{loading:Object(A.jsx)(Ge,{}),persistor:De,onBeforeLift:function(){return new Promise((function(e){return setTimeout(e,500)}))},children:Object(A.jsx)(Je,{children:Object(A.jsx)(Fe,{})})})})}),Ye),Me()},98:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.5f436e34.chunk.js.map